#!/bin/bash

################################################################################
# 文件名: display.sh
# 功能: 显示工具函数 - 控制台输出、格式化、用户交互
# 依赖: init.sh 的颜色函数 (_red, _green, etc.)
################################################################################

################################################################################
# 函数名: msg
# 功能: 输出消息到控制台
# 参数: $@ - 要输出的消息内容
# 返回: 无
# 示例: msg "这是一条消息"
################################################################################
msg() {
    echo -e "$@"
}

################################################################################
# 函数名: msg_ul
# 功能: 输出带下划线的消息
# 参数: $@ - 要输出的消息内容
# 返回: 无
# 示例: msg_ul "重要信息"
################################################################################
msg_ul() {
    echo -e "\e[4m$@\e[0m"
}

################################################################################
# 函数名: pause
# 功能: 暂停等待用户确认,显示提示信息
# 参数: 无
# 返回: 无
# 说明: 用户按 Enter 继续,按 Ctrl+C 取消
################################################################################
pause() {
    echo
    echo -ne "按 $(_green Enter 回车键) 继续, 或按 $(_red Ctrl + C) 取消."
    read -rs -d $'\n'
    echo
}

################################################################################
# 函数名: show_list
# 功能: 显示选项列表,使用 select 菜单格式
# 参数: $@ - 要显示的选项列表
# 返回: 无
# 示例: show_list "选项1" "选项2" "选项3"
################################################################################
show_list() {
    PS3=''
    COLUMNS=1
    select i in "$@"; do echo; done &
    wait
}

################################################################################
# 函数名: footer_msg
# 功能: 显示底部提示信息
# 参数: 无
# 返回: 无
# 说明: 显示查看配置的快捷命令提示
################################################################################
footer_msg() {
    msg
    [[ $is_new_install || $is_dont_show_info ]] && msg \"$is_ok 安装成功.\"
    [[ $is_dont_show_info ]] && {
        msg
        return
    }
    [[ $is_new_json ]] && {
        msg \"$is_warn 查看配置: $(_green $is_core info)\"
    }
    msg
}
